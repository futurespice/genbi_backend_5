# üìù Changelog - –°–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## [1.0.0] - 2024-12-09

### üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ Pydantic ValidationError
**–ü—Ä–æ–±–ª–µ–º–∞:** `Extra inputs are not permitted` –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ CONNECTION_STRING –∏–∑ .env

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω `extra = "ignore"` –≤ `Config` –∫–ª–∞—Å—Å Settings
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ `CONNECTION_STRING` –¥–ª—è –æ–±–ª–∞—á–Ω—ã—Ö –ë–î
- –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ —Å –ª–æ–∫–∞–ª—å–Ω–æ–π PostgreSQL, –∏ —Å Neon

**–§–∞–π–ª:** `app/core/config.py`

```python
class Config:
    env_file = ".env"
    extra = "ignore"  # ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
```

#### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã enum –∑–Ω–∞—á–µ–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –í –º–∏–≥—Ä–∞—Ü–∏—è—Ö UPPERCASE (ADMIN), –≤ –∫–æ–¥–µ lowercase (admin)

**–†–µ—à–µ–Ω–∏–µ:**
- –í—Å–µ enum —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç lowercase –∑–Ω–∞—á–µ–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω –≥–∞–π–¥ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ë–î

**–§–∞–π–ª—ã:** 
- `app/models/enums.py`
- `MIGRATION_GUIDE.md`

#### 3. –£–±—Ä–∞–Ω–æ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø–æ–ª–µ created_at
**–ü—Ä–æ–±–ª–µ–º–∞:** `UserResponse` –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø–æ–ª–µ `created_at`, –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–µ—Ç –≤ –º–æ–¥–µ–ª–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –£–¥–∞–ª–µ–Ω–æ –ø–æ–ª–µ `created_at` –∏–∑ —Å—Ö–µ–º—ã `UserResponse`

**–§–∞–π–ª:** `app/schemas/user.py`

---

### ‚ú® –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

#### 1. Refresh —Ç–æ–∫–µ–Ω—ã
- ‚úÖ –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è access/refresh —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç `/auth/refresh` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–∞ —Ç–æ–∫–µ–Ω–∞ (access vs refresh)

**–§–∞–π–ª—ã:**
- `app/core/security.py` - —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- `app/api/v1/endpoints/auth.py` - —ç–Ω–¥–ø–æ–∏–Ω—Ç refresh
- `app/schemas/token.py` - —Å—Ö–µ–º—ã —Ç–æ–∫–µ–Ω–æ–≤

#### 2. –ü–∞–≥–∏–Ω–∞—Ü–∏—è
- ‚úÖ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ `PaginatedResponse`
- ‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `page`, `per_page`, `total`, `has_next`, `has_prev`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ –≤—Å–µ —Å–ø–∏—Å–∫–∏:
  - GET /users
  - GET /companies
  - GET /tours
  - GET /bookings
  - GET /reviews

**–§–∞–π–ª:** `app/schemas/pagination.py`

#### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
–ù–æ–≤—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/v1/users` (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞):
- ‚úÖ `GET /users` - —Å–ø–∏—Å–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (role, is_active, search)
- ‚úÖ `GET /users/{id}` - –ø–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `PATCH /users/{id}` - –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ `DELETE /users/{id}` - —É–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–§–∞–π–ª:** `app/api/v1/endpoints/users.py`

#### 4. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –ª–æ–≥–∏–Ω

**–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:**
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–æ–ª—è (–º–∏–Ω. 8 —Å–∏–º–≤–æ–ª–æ–≤, –∑–∞–≥–ª–∞–≤–Ω–∞—è –±—É–∫–≤–∞, —Ü–∏—Ñ—Ä–∞)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ email –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–∞

**–õ–æ–≥–∏–Ω:**
- ‚úÖ `/auth/login` - OAuth2 compatible (form data)
- ‚úÖ `/auth/login/json` - JSON —Ñ–æ—Ä–º–∞—Ç (–¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç access + refresh —Ç–æ–∫–µ–Ω–æ–≤

**–§–∞–π–ª—ã:**
- `app/schemas/user.py` - –≤–∞–ª–∏–¥–∞—Ü–∏—è
- `app/api/v1/endpoints/auth.py` - —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

---

### üîê –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

#### Companies
- ‚úÖ –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = –æ–¥–Ω–∞ –∫–æ–º–ø–∞–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –ø—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ (–≤–ª–∞–¥–µ–ª–µ—Ü –∏–ª–∏ –∞–¥–º–∏–Ω)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏—è
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç `/companies/my` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–≤–æ–µ–π –∫–æ–º–ø–∞–Ω–∏–∏

#### Tours
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ü–µ–Ω—ã (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å > 0)
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: location, price range, search, company_id
- ‚úÖ –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: price_asc, price_desc, rating, newest
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç `/tours/my` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç—É—Ä–æ–≤ —Å–≤–æ–µ–π –∫–æ–º–ø–∞–Ω–∏–∏

#### Bookings
- ‚úÖ –ù–µ–ª—å–∑—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—à–µ–¥—à–∏–µ –¥–∞—Ç—ã
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- ‚úÖ –†–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π:
  - –ö–ª–∏–µ–Ω—Ç –≤–∏–¥–∏—Ç —Å–≤–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
  - –ö–æ–º–ø–∞–Ω–∏—è –≤–∏–¥–∏—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–≤–æ–∏—Ö —Ç—É—Ä–æ–≤
  - –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç –≤—Å–µ
- ‚úÖ –ö–ª–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–º–µ–Ω–∏—Ç—å (CANCELLED)
- ‚úÖ –ö–æ–º–ø–∞–Ω–∏—è/–ê–¥–º–∏–Ω –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å –ª—é–±–æ–π —Å—Ç–∞—Ç—É—Å

#### Reviews
- ‚úÖ –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = –æ–¥–∏–Ω –æ—Ç–∑—ã–≤ –Ω–∞ –æ–±—ä–µ–∫—Ç
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–π—Ç–∏–Ω–≥–∞ (1-5)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á—ë—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞ —Ç—É—Ä–∞
- ‚úÖ –ú–æ–¥–µ—Ä–∞—Ü–∏—è –æ—Ç–∑—ã–≤–æ–≤ (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω)
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏—Ö –æ—Ç–∑—ã–≤–æ–≤ (–∏–ª–∏ –ª—é–±—ã—Ö –¥–ª—è –∞–¥–º–∏–Ω–∞)

---

### üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

#### 1. CORS
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω CORSMiddleware
- ‚úÖ –†–∞–∑—Ä–µ—à–µ–Ω—ã –≤—Å–µ origin'—ã (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- ‚ö†Ô∏è –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–æ–º–µ–Ω—ã

**–§–∞–π–ª:** `app/main.py`

#### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ ValidationError
- ‚úÖ –ì–ª–æ–±–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ SQLAlchemyError
- ‚úÖ –û–±—â–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ Exception
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–µ JSON-–æ—Ç–≤–µ—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏

**–§–∞–π–ª:** `app/main.py`

#### 3. –£–ª—É—á—à–µ–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ `get_current_user` - –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ `get_current_active_user` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- ‚úÖ `get_current_admin` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∞
- ‚úÖ `get_current_company` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∫–æ–º–ø–∞–Ω–∏–∏

**–§–∞–π–ª:** `app/api/deps.py`

#### 4. Health check
- ‚úÖ –≠–Ω–¥–ø–æ–∏–Ω—Ç `/health` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

---

### üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
- ‚úÖ `README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ `QUICKSTART.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- ‚úÖ `MIGRATION_GUIDE.md` - –≥–∞–π–¥ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- ‚úÖ `CHANGELOG.md` - —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
- ‚úÖ `.env.example` - –ø—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- ‚úÖ `create_admin.py` - —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –∞–¥–º–∏–Ω–∞

---

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- 15+ –Ω–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- 8 –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –≤–æ –≤—Å–µ —Å–ø–∏—Å–∫–∏
- Refresh —Ç–æ–∫–µ–Ω—ã
- –ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- 5 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- 12 —Å—Ä–µ–¥–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º
- 5 –º–µ–ª–∫–∏—Ö –Ω–µ–¥–æ—á—ë—Ç–æ–≤

**–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ:** 30+

---

### üîú –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

- [ ] –¢–µ—Å—Ç—ã (pytest)
- [ ] CI/CD
- [ ] Rate limiting
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ (Redis)
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
- [ ] Docker production
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (email/SMS)
- [ ] WebSocket –¥–ª—è real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç—É—Ä–æ–≤)
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á—ë—Ç–æ–≤ (PDF, Excel)

---

### üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –∑–∞ —Ç–µ—Ä–ø–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –±–∞–≥–æ–≤! üöÄ
